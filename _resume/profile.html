<div class="profile">
    <h2>프로필 <span id="job-start-date"></span></h2>
    
    <dl>
        <dt>이름</dt>
        <dd>문동준</dd>
        <dt>생년월일</dt>
        <dd>1993년 1월 26일</dd>
        <dt>휴대폰</dt>
        <dd>010-2359-0126</dd>
        <dt>e-mail</dt>
        <dd>ehdwns0126@naver.com</dd>
        <dt>주소</dt>
        <dd>경기도 부천시 원미구 역곡동</dd>
    </dl>
</div>

<script>
    function parseDateFromString(dateString) {
        var match = dateString.match(/^(\d{4})(\d{2})(\d{2})$/);

        if (!match) {
            console.error('올바르지 않은 날짜 형식입니다.');
            return null;
        }

        var year = parseInt(match[1], 10);
        var month = parseInt(match[2], 10) - 1;
        var day = parseInt(match[3], 10);

        var dateObject = new Date(year, month, day);

        if (isNaN(dateObject.getTime())) {
            console.error('올바르지 않은 날짜 형식입니다.');
            return null;
        }

        return dateObject;
    }

    function calculateExperience(startDate) {
        var startDateObject = parseDateFromString(startDate);

        if (startDateObject === null) {
            return null;
        }

        var currentDate = new Date();
        var years = currentDate.getFullYear() - startDateObject.getFullYear();
        var months = currentDate.getMonth() - startDateObject.getMonth();

        if (months < 0) {
            years -= 1;
            months += 12;
        }

        return { years, months };
    }

    function calculateAndDisplayExperience(startDate) {
        var experience = calculateExperience(startDate);

        if (experience !== null) {
            var startDateElement = document.getElementById('job-start-date');
            startDateElement.innerHTML = experience.years + "년" + ' ' + + experience.months + "개월";
        }
    }

    // 실행
    calculateAndDisplayExperience('{{ site.author.job_start_date }}');
    //window.addEventListener("load", () => calculateAndDisplayExperience('{{ site.author.job_start_date }}'));
</script>